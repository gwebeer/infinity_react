{"ast":null,"code":"var _jsxFileName = \"C:\\\\infinity_react\\\\src\\\\components\\\\postbar\\\\index.js\";\nimport React, { Component } from 'react';\nimport '../../css/templateHome/animate.css';\nimport '../../css/templateHome/bootstrap.min.css';\nimport '../../css/templateHome/jquery.mCustomScrollbar.min.css';\nimport '../../css/templateHome/responsive.css';\nimport '../../css/templateHome/style.css';\nimport '../../css/templateHome/cssFonts/line-awesome.css';\nimport '../../css/templateHome/cssFonts/line-awesome-font-awesome.min.css';\nimport '../../css/templateHome/cssFonts/font-awesome.min.css';\nimport '../../css/templateHome/vendor/fontawesome-free/css/all.min.css';\nimport '../../css/templateHome/lib/slick/slick.css';\nimport '../../css/templateHome/lib/slick/slick-theme.css';\nimport profile from '../../images/userProfileGuilherme.jpeg';\nimport firebase from 'firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Postbar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      post: \"\",\n      caracteres: 320,\n      url: \"\"\n    };\n\n    this.componentDidMount = () => {\n      this.carregaImagem();\n    };\n\n    this.fAddDatabase = this.fAddDatabase.bind(this);\n    this.titleId = this.titleId.bind(this);\n    this.carregaImagem = this.carregaImagem.bind(this);\n  }\n\n  carregaImagem() {\n    firebase.storage().ref('usuario').child(this.props.userId).getDownloadURL().then(url => {\n      this.setState({\n        url: url\n      });\n      console.log(url);\n    });\n  }\n\n  titleId() {\n    var url = window.location.href;\n    var idTitulo = url.substring(url.lastIndexOf('?id=') + 4);\n    return idTitulo;\n  }\n\n  fAddDatabase() {\n    firebase.firestore().collection('posts').add({\n      categoria: this.props.categoria,\n      comentarios: 0,\n      curtidas: 0,\n      desc: this.state.post,\n      idConteudo: this.titleId(),\n      nome: this.props.nomeUsuario,\n      nomeConteudo: this.props.nomeConteudo,\n      userId: this.props.userId,\n      usuario: this.props.userLog\n    }).then(this.setState({\n      post: \"\",\n      caracteres: 320\n    }));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post-topbar\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"linha postbar-top-pd\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"externa-postbar-img\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: this.state.url,\n            className: \"profile-post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"externa-postbar\",\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: \"Digite seu coment\\xE1rio...\",\n            className: \"text-post\",\n            rows: \"7\",\n            maxLength: \"320\",\n            value: this.state.post,\n            onChange: e => {\n              let tamanho = this.state.post.length;\n              this.setState({\n                post: e.target.value\n              }, () => {\n                let tamanho = this.state.post.length;\n                this.setState({\n                  caracteres: 320 - tamanho\n                });\n              });\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\" Restam \", this.state.caracteres, \" caracteres \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"externa-postbar-btn\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"post-st\",\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: /*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"post-jb active\",\n                  onClick: this.fAddDatabase,\n                  children: \"Publicar!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Postbar;","map":{"version":3,"sources":["C:/infinity_react/src/components/postbar/index.js"],"names":["React","Component","profile","firebase","Postbar","constructor","props","state","post","caracteres","url","componentDidMount","carregaImagem","fAddDatabase","bind","titleId","storage","ref","child","userId","getDownloadURL","then","setState","console","log","window","location","href","idTitulo","substring","lastIndexOf","firestore","collection","add","categoria","comentarios","curtidas","desc","idConteudo","nome","nomeUsuario","nomeConteudo","usuario","userLog","render","e","tamanho","length","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport '../../css/templateHome/animate.css';\r\nimport '../../css/templateHome/bootstrap.min.css';\r\nimport '../../css/templateHome/jquery.mCustomScrollbar.min.css'\r\nimport '../../css/templateHome/responsive.css';\r\nimport '../../css/templateHome/style.css';\r\n\r\nimport '../../css/templateHome/cssFonts/line-awesome.css'\r\nimport '../../css/templateHome/cssFonts/line-awesome-font-awesome.min.css'\r\nimport '../../css/templateHome/cssFonts/font-awesome.min.css'\r\n\r\nimport '../../css/templateHome/vendor/fontawesome-free/css/all.min.css';\r\nimport '../../css/templateHome/lib/slick/slick.css';\r\nimport '../../css/templateHome/lib/slick/slick-theme.css';\r\n\r\nimport profile from '../../images/userProfileGuilherme.jpeg'\r\n\r\nimport firebase from 'firebase';\r\n\r\nclass Postbar extends Component {\r\n    \r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            post: \"\",\r\n            caracteres: 320,\r\n            url: \"\",\r\n        }\r\n\r\n        this.componentDidMount = () => {\r\n            this.carregaImagem();\r\n        }\r\n\r\n        this.fAddDatabase = this.fAddDatabase.bind(this);\r\n        this.titleId = this.titleId.bind(this);\r\n        this.carregaImagem = this.carregaImagem.bind(this);\r\n    }\r\n\r\n    carregaImagem() {\r\n        firebase.storage().ref('usuario').child(this.props.userId).getDownloadURL()\r\n        .then((url) => {\r\n            this.setState({url: url})\r\n            console.log(url)\r\n        })\r\n    }\r\n\r\n    titleId() {\r\n        var url = window.location.href\r\n        var idTitulo = url.substring(url.lastIndexOf('?id=') + 4);\r\n        return idTitulo;\r\n    }\r\n\r\n    fAddDatabase() {\r\n        firebase.firestore().collection('posts')\r\n        .add({\r\n            categoria: this.props.categoria,\r\n            comentarios: 0,\r\n            curtidas: 0,\r\n            desc: this.state.post,\r\n            idConteudo: this.titleId(),\r\n            nome: this.props.nomeUsuario,\r\n            nomeConteudo: this.props.nomeConteudo,\r\n            userId: this.props.userId,\r\n            usuario: this.props.userLog,\r\n        })\r\n        .then(\r\n            this.setState({post: \"\", caracteres: 320})\r\n        )\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"post-topbar\">\r\n                <div className=\"linha postbar-top-pd\">\r\n                    <div className=\"externa-postbar-img\">\r\n                        <img src={this.state.url} className=\"profile-post\"/>\r\n                    </div>\r\n\r\n                    <div className=\"externa-postbar\">\r\n                        <textarea placeholder=\"Digite seu comentário...\" className=\"text-post\" \r\n                        rows=\"7\" maxLength=\"320\" value={this.state.post} onChange={(e) => {\r\n                            let tamanho = this.state.post.length\r\n                            this.setState({post: e.target.value}, ()=>{\r\n                                let tamanho = this.state.post.length;\r\n                                this.setState({caracteres: 320 - tamanho})\r\n                            })\r\n                        }}/>\r\n                        <span> Restam {this.state.caracteres} caracteres </span>\r\n                    </div>\r\n\r\n                    <div className=\"externa-postbar-btn\">\r\n                        <div className=\"post-st\">\r\n                            <ul>\r\n                                <li><a className=\"post-jb active\" onClick={this.fAddDatabase} >Publicar!</a></li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                \r\n                </div>\r\n            </div>\r\n\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default Postbar;"]},"metadata":{},"sourceType":"module"}